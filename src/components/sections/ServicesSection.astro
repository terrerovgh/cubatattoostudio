---
import GlassCard from "../GlassCard.astro";
import SectionWrapper from "../SectionWrapper.astro";
import FrostedServiceCard from "../FrostedServiceCard.astro";

// Import gallery images for background effects
import david01 from "../../assets/gallery/david/01.jpg";
import nina01 from "../../assets/gallery/nina/01.jpg";
import karli01 from "../../assets/gallery/karli/01.jpg";
import studio01 from "../../assets/gallery/studio/01.jpg";
import david02 from "../../assets/gallery/david/02.jpg";
import karli02 from "../../assets/gallery/karli/02.jpg";

const galleryImages = [david01, nina01, karli01, studio01, david02, karli02];

interface Service {
  name: string;
  description: string;
  price?: string;
}

interface Props {
  id: string;
  backgroundImage: string;
  title?: string;
  services?: Service[];
}

const { id, backgroundImage, title, services = [] } = Astro.props;
---

<SectionWrapper id={id} backgroundImage={backgroundImage}>
  <GlassCard maxWidth="max-w-7xl" animate={false}>
    {
      title && (
        <h2
          class="text-gradient-white text-3xl sm:text-4xl lg:text-5xl font-bold text-center mb-12 tracking-[-0.02em]"
          data-animate-heading
          data-parallax="-0.05"
        >
          {title}
        </h2>
      )
    }

    <div class="columns-1 md:columns-2 lg:columns-3 gap-6 space-y-6">
      {
        services.map((service, i) => {
          const image = galleryImages[i % galleryImages.length];

          return (
            <div class="break-inside-avoid mb-6 block" data-animate-scale>
              <FrostedServiceCard
                title={service.name}
                description={service.description}
                price={service.price}
                image={image}
                class="h-full"
              />
            </div>
          );
        })
      }
    </div>
  </GlassCard>
</SectionWrapper>
