---
import GlassCard from "../GlassCard.astro";
import SectionWrapper from "../SectionWrapper.astro";
import FrostedServiceCard from "../FrostedServiceCard.astro";

// Import gallery images for background effects
import david01 from "../../assets/gallery/david/01.jpg";
import nina01 from "../../assets/gallery/nina/01.jpg";
import karli01 from "../../assets/gallery/karli/01.jpg";
import studio01 from "../../assets/gallery/studio/promo-merch.jpg";
import david02 from "../../assets/gallery/david/02.jpg";
import karli02 from "../../assets/gallery/karli/02.jpg";

const galleryImages = [david01, nina01, karli01, studio01, david02, karli02];

interface Service {
  name: string;
  description: string;
  price?: string;
}

interface Props {
  id: string;
  backgroundImage: string;
  title?: string;
  services?: Service[];
}

const { id, backgroundImage, title, services = [] } = Astro.props;
---

<SectionWrapper id={id} backgroundImage={backgroundImage}>
  <GlassCard maxWidth="max-w-7xl" animate={false}>
    {
      title && (
        <h2
          class="text-gradient-white text-fluid-lg font-bold text-center mb-10 sm:mb-12"
          data-animate-heading
          data-parallax="-0.05"
        >
          {title}
        </h2>
      )
    }

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5 sm:gap-6">
      {
        services.map((service, i) => {
          const image = galleryImages[i % galleryImages.length];

          return (
            <div data-animate-scale>
              <FrostedServiceCard
                title={service.name}
                description={service.description}
                price={service.price}
                image={image}
                class="h-full"
              />
            </div>
          );
        })
      }
    </div>
  </GlassCard>
</SectionWrapper>
